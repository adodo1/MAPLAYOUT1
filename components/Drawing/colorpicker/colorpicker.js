define(["text!./colorpicker.html","text!../symbolDrawing/symbolDrawing.html"],function(colorpicker,symbolDrawing){var tool={init:function(evt,textClass){$('.container').append(colorpicker);$('.'+textClass).unbind('click').bind('click',function(){if($("#colorpickerHolder2").is(":hidden")){$("#colorpickerHolder2").show()}else{$("#colorpickerHolder2").hide()}});var widt=false;$('#colorpickerHolder2').stop().animate({height:widt?0:173},500);widt=!widt;$('#colorpickerHolder2').ColorPicker({flat:true,onSubmit:function(hsb,hex,rgb){$("."+textClass).val("#"+hex);var color="#"+hex;if(textClass=="fill_background_color"){require(["./components/map/map"],function(map){map.backColorChange(evt,color)})}else if(textClass=="fill_fill_color"){require(["./components/map/map"],function(map){map.fillColorChange(evt,color)})}else if(textClass=="line_line_color"){require(["./components/map/map"],function(map){map.lineColorChange(evt,color)})}else if(textClass=="text_color"){require(["./components/map/map"],function(map){map.symbolColorChange(evt,color)})}else if(textClass=="text_halo_color"){require(["./components/map/map"],function(map){map.symbolHaloColorChange(evt,color)})}}});$('#colorpickerHolder2>div').css('position','absolute')}};return tool});